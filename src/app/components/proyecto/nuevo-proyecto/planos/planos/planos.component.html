<h5>5. Planos</h5>
<span>Adjuntá el/los planos y seleccioná las zonas a recortar</span>
<div class="mb-5">
    <form [formGroup]="planoForm">
        <div class="d-flex justify-content-evenly gap-2">
            <app-plano-editor (croppedImage)="agregarPlano($event)"></app-plano-editor>
            <div>
                <div style="margin-top: 50px">
                    <div class="col mt-2 mb-2">
                        <label for="especialidad" class="form-label">Especialidad</label>
                        <select class="form-select" id="especialidad" formControlName="especialidadId">
                            <option *ngFor="let especialidad of especialidades" [value]="especialidad.especialidadId">{{ especialidad.nombre }}</option>
                        </select>
                    </div>
                </div>
                <!-- <div *ngIf="especialidadId.invalid && (especialidadId.dirty || especialidadId.touched)" class="alert">
                    <div *ngIf="especialidadId.hasError('required')">
                        La especialidad es requerida.
                    </div>
                </div> -->

                <!-- <div>
                    <label for="etiquetas" class="form-label">Etiquetas</label>
                    <input #tagInput type="text" placeholder="Agregar etiqueta">
                    <button (click)="agregarEtiqueta(tagInput.value); tagInput.value = '';">+</button>
                    <ul>
                        <li *ngFor="let etiqueta of planoForm.value.etiquetas">
                            {{ etiqueta }} 
                            <button (click)="eliminarEtiqueta(etiqueta)">x</button>
                        </li>
                    </ul>
                </div> -->
            </div>
        </div>
    </form>
</div>
<h5>Planos actuales</h5>
<div ngbAccordion [closeOthers]="true">
    <div *ngFor="let plano of planos.controls; let i = index" ngbAccordionItem>
        <h2 ngbAccordionHeader>
            <button ngbAccordionButton>Plano {{ i+1 }}</button>
        </h2>
        <div ngbAccordionCollapse>
            <div ngbAccordionBody>
                <img [src]="plano.value.imagen" alt="`Plano ${i}`" width="500">
                <!-- <span>{{ plano.value.especialidad }}</span>
                <span>Etiquetas: {{ plano.value.etiquetas.join(', ') }}</span>
                <button (click)="eliminarPlano(i)">Eliminar</button> -->
            </div>
        </div>
    </div>
</div>